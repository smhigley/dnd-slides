import{r as e,h as t}from"./p-ce29c58b.js";const i=["January","February","March","April","May","June","July","August","September","October","November","December"];let s=class{constructor(t){e(this,t),this.contrast="none",this.columnheader="none",this.focusModel="cell",this.showInput=!1,this.open=!1,this.callFocus=!1}componentDidUpdate(){this.focusRef&&(this.callFocus&&this.focusRef.focus(),this.callFocus=!1)}render(){return t("div",{class:{"datepicker-wrapper":!0,open:this.open}},t("div",{class:"field-wrapper"},this.showInput?this.renderInput():null,t("button",{class:"datepicker-button","aria-label":`open calendar, ${this.formatDate(this.currentDate)}`,"aria-expanded":`${this.open}`,onClick:()=>this.updateOpen(!this.open),onKeyDown:this.onKeyDown.bind(this),ref:e=>this.buttonRef=e},this.showInput?null:this.currentDate?this.formatDate(this.currentDate):"Select a date",t("svg",{viewBox:"0 0 26 28"},t("path",{d:"M2 26h4.5v-4.5h-4.5v4.5zM7.5 26h5v-4.5h-5v4.5zM2 20.5h4.5v-5h-4.5v5zM7.5 20.5h5v-5h-5v5zM2 14.5h4.5v-4.5h-4.5v4.5zM13.5 26h5v-4.5h-5v4.5zM7.5 14.5h5v-4.5h-5v4.5zM19.5 26h4.5v-4.5h-4.5v4.5zM13.5 20.5h5v-5h-5v5zM8 7v-4.5c0-0.266-0.234-0.5-0.5-0.5h-1c-0.266 0-0.5 0.234-0.5 0.5v4.5c0 0.266 0.234 0.5 0.5 0.5h1c0.266 0 0.5-0.234 0.5-0.5zM19.5 20.5h4.5v-5h-4.5v5zM13.5 14.5h5v-4.5h-5v4.5zM19.5 14.5h4.5v-4.5h-4.5v4.5zM20 7v-4.5c0-0.266-0.234-0.5-0.5-0.5h-1c-0.266 0-0.5 0.234-0.5 0.5v4.5c0 0.266 0.234 0.5 0.5 0.5h1c0.266 0 0.5-0.234 0.5-0.5zM26 6v20c0 1.094-0.906 2-2 2h-22c-1.094 0-2-0.906-2-2v-20c0-1.094 0.906-2 2-2h2v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h6v-1.5c0-1.375 1.125-2.5 2.5-2.5h1c1.375 0 2.5 1.125 2.5 2.5v1.5h2c1.094 0 2 0.906 2 2z"})))),t("div",{class:"popup"},t("dnd-calendar",{class:"calendar",ref:e=>this.calendarRef=e,contrast:this.contrast,columnheader:this.columnheader,focusModel:this.focusModel,startDate:this.currentDate,selectedDay:this.currentDate,onDateSelected:this.onDateSelect.bind(this)})))}formatDate(e){return e&&e instanceof Date?`${i[e.getMonth()]} ${e.getDate()}, ${e.getFullYear()}`:""}onDateSelect(e){this.currentDate=e.detail,this.updateOpen(!1),this.inputRef&&(this.inputRef.value=this.formatDate(this.currentDate))}onKeyDown(e){e.stopPropagation()}parseInput(e){const t=new Date(e);t&&!isNaN(t.getTime())?(this.currentDate=t,this.inputRef&&(this.inputRef.value=this.formatDate(t))):(this.currentDate=null,this.inputRef&&(this.inputRef.value="")),this.updateOpen(!1)}renderInput(){return t("input",{type:"text",class:"datepicker-input",onBlur:e=>this.parseInput(e.target.value),onKeyDown:this.onKeyDown.bind(this),ref:e=>this.inputRef=e})}updateOpen(e){e?setTimeout((()=>{this.calendarRef.focusDate()}),10):(this.buttonRef.focus(),console.log("focus button",this.buttonRef)),this.open=e}};s.style=".datepicker-wrapper{width:25em}.field-wrapper{display:flex;column-gap:0.5em;align-items:center}.datepicker-button{display:flex;column-gap:0.75em;padding:0.75em 1.5em;background-color:#4741c1;border:0;border-radius:6px;color:#fff;font-weight:bold;font-size:1.2em}.datepicker-button svg{width:1em;fill:currentColor}.datepicker-input{padding:0.75em 1.5em;font-size:1.2em}.popup{visibility:hidden;border:1px solid #e3e3e3;box-shadow:0 0 4px 0 rgba(0, 0, 0, 0.15)}.open .popup{visibility:visible}";const r=["A","B","C"],o=["Wizard","Druid","Bard"];let a=class{constructor(t){e(this,t),this.cellFocus=!0,this.activeCell=1,this.selectedCell=1,this.callFocus=!1}componentDidUpdate(){this.focusRef&&(this.callFocus&&this.focusRef.focus(),this.callFocus=!1)}render(){return console.log("render"),t("div",{class:"wrapper"},t("table",{role:"grid",class:"grid","aria-label":"Grid interaction example",onKeyDown:this.onKeydown.bind(this)},t("thead",{role:"rowgroup",class:"grid-header"},t("tr",{role:"row",class:"row"},r.map((e=>t("th",{role:"columnheader",class:"column-header"},t("span",null,e)))))),t("tbody",{role:"rowgroup",class:"grid-body"},t("tr",{role:"row",class:"row"},o.map(((e,t)=>this.renderCell(e,t)))))))}onDateClick(e,t){e&&(this.activeCell=t,this.selectDate(t))}onKeydown(e){let t=this.activeCell;switch(e.key){case"ArrowLeft":t=Math.max(0,t-1);break;case"ArrowRight":t=Math.min(2,t+1);break;case"Home":t=0;break;case"End":t=2;break;case" ":case"Enter":this.selectDate(t),e.preventDefault(),e.stopPropagation()}t!==this.activeCell&&(this.callFocus=!0,this.activeCell=t,e.preventDefault(),e.stopPropagation())}renderCell(e,i){const s=i===this.activeCell,r=i===this.selectedCell,o=()=>{this.onDateClick(e,i)};return t("td",{role:"gridcell",id:`date-${i}`,class:{cell:!0,selected:r},"aria-selected":`${r}`,tabIndex:this.cellFocus?s?0:-1:null,ref:this.cellFocus&&s?e=>{this.focusRef=e}:null,onClick:o},this.cellFocus?t("span",{class:"date-button"},e):t("button",{class:"date-button",onClick:o,"aria-pressed":this.cellFocus?null:`${r}`,tabIndex:!this.cellFocus&&s?0:-1,ref:!this.cellFocus&&s?e=>{this.focusRef=e}:null},e))}selectDate(e){this.selectedCell=e}};a.style=".wrapper{display:flex;flex-direction:column;width:25em;background-color:#fff}.grid{border:1px solid #e3e3e3;border-collapse:collapse}.grid-caption{background-color:#fff;border-bottom:1px solid #e3e3e3;padding:0.5em}.grid-header{position:relative;border-bottom:1px solid #e3e3e3;box-shadow:0 0 4px 0 rgba(0, 0, 0, 0.15)}.column-header{padding:0.5em 0}.row{background-color:#fff;border-bottom:1px solid #e3e3e3}.grid-header .row{border-bottom:none}.selection-indicator{display:block;height:1.6em;position:relative;width:1.6em}.cell{align-items:center;border-left:1px solid #e3e3e3;padding:0;outline:0}.cell:focus .date-button{outline:2px solid #000;outline-offset:2px}.cell:first-child,.col:first-child{border-left:0}.date-button{box-sizing:border-box;display:block;position:relative;width:100%;padding:0.75em;background:transparent;border:none;border-radius:3px;color:inherit;text-align:center;font-size:1.25em}.selected .date-button{background-color:#4741c1;color:#fff;box-shadow:0 0 18px 2px #4741c1}.heading-cell{align-items:center;display:flex;flex-wrap:wrap;justify-content:space-between;padding:0.5em 1em}.visuallyHidden{border:0;clip:rect(0 0 0 0);height:1px;margin:-1px;overflow:hidden;padding:0;position:absolute;width:1px;white-space:nowrap}";export{s as dnd_datepicker,a as dnd_mini_grid}